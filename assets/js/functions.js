var database=[
    {
		"nome": "Yoshi",
		"idade": 28,
		"genero": "Outro",
		"cpf": 12345678900,
        "cep": 40456897,
		"uf": "BA",
		"cidade": "Salvador",
        "estaVivo": true
	},
	{
		"nome": "Raul Seixas",
		"idade": 10042,
		"genero": "Masculino",
		"cpf": 65498731259,
        "cep": 12354673,
		"uf": "SP",
		"cidade": "São Paulo",
        "estaVivo": false
	},
    {
        "nome": "Stephenson Copeland",
        "idade": 5,
        "genero": "Outro",
        "cpf": 50784636321,
        "cep": 93666197,
        "uf": "MT",
        "cidade": "Sehili",
        "estaVivo": true
    },
    {
        "nome": "Lauren Mooney",
        "idade": 35,
        "genero": "Outro",
        "cpf": 60835517603,
        "cep": 48482107,
        "uf": "SE",
        "cidade": "Coinjock",
        "estaVivo": true
    },
    {
        "nome": "Bishop Finley",
        "idade": 28,
        "genero": "Outro",
        "cpf": 47711960480,
        "cep": 47884749,
        "uf": "AM",
        "cidade": "Carrizo",
        "estaVivo": true
    },
    {
        "nome": "Monroe Shepard",
        "idade": 4,
        "genero": "Masculino",
        "cpf": 15893070681,
        "cep": 71634500,
        "uf": "DF",
        "cidade": "Kaka",
        "estaVivo": false
    },
    {
        "nome": "Dixon Christensen",
        "idade": 9,
        "genero": "Outro",
        "cpf": 31961850069,
        "cep": 87981811,
        "uf": "MT",
        "cidade": "Lawrence",
        "estaVivo": false
    },
    {
        "nome": "Blevins Neal",
        "idade": 0,
        "genero": "Feminino",
        "cpf": 10631139499,
        "cep": 36103634,
        "uf": "BA",
        "cidade": "Riegelwood",
        "estaVivo": false
    },
    {
        "nome": "Alyce Cherry",
        "idade": 27,
        "genero": "Outro",
        "cpf": 57879037215,
        "cep": 24349179,
        "uf": "SP",
        "cidade": "Frank",
        "estaVivo": true
    },
    {
        "nome": "Lawanda Sawyer",
        "idade": 13,
        "genero": "Outro",
        "cpf": 89326990916,
        "cep": 11632167,
        "uf": "RJ",
        "cidade": "Yettem",
        "estaVivo": false
    },
    {
        "nome": "Frazier Hull",
        "idade": 14,
        "genero": "Outro",
        "cpf": 64278201136,
        "cep": 28366306,
        "uf": "BA",
        "cidade": "Greenfields",
        "estaVivo": true
    },
    {
        "nome": "Jarvis Mckinney",
        "idade": 10,
        "genero": "Outro",
        "cpf": 26473465748,
        "cep": 47178283,
        "uf": "MT",
        "cidade": "Duryea",
        "estaVivo": true
    },
    {
        "nome": "Payne Oconnor",
        "idade": 33,
        "genero": "Feminino",
        "cpf": 50425536765,
        "cep": 23568338,
        "uf": "RJ",
        "cidade": "Stockwell",
        "estaVivo": true
    },
    {
        "nome": "Shelley Morrison",
        "idade": 7,
        "genero": "Feminino",
        "cpf": 18089003099,
        "cep": 54437154,
        "uf": "BA",
        "cidade": "Dargan",
        "estaVivo": true
    },
    {
        "nome": "Oneal Peters",
        "idade": 29,
        "genero": "Feminino",
        "cpf": 70563356403,
        "cep": 87320700,
        "uf": "MT",
        "cidade": "Hobucken",
        "estaVivo": false
    },
    {
        "nome": "Tiffany Gamble",
        "idade": 25,
        "genero": "Feminino",
        "cpf": 54483757250,
        "cep": 32076679,
        "uf": "DF",
        "cidade": "Boonville",
        "estaVivo": false
    },
    {
        "nome": "Alyson Randall",
        "idade": 20,
        "genero": "Masculino",
        "cpf": 42095531910,
        "cep": 67340772,
        "uf": "SP",
        "cidade": "Rossmore",
        "estaVivo": true
    },
    {
        "nome": "Joyce Jordan",
        "idade": 3,
        "genero": "Outro",
        "cpf": 74996530075,
        "cep": 71727928,
        "uf": "MT",
        "cidade": "Nipinnawasee",
        "estaVivo": false
    },
    {
        "nome": "Rae Langley",
        "idade": 31,
        "genero": "Masculino",
        "cpf": 12737066675,
        "cep": 76997195,
        "uf": "DF",
        "cidade": "Summerfield",
        "estaVivo": false
    },
    {
        "nome": "Fitzpatrick Osborn",
        "idade": 20,
        "genero": "Outro",
        "cpf": 56768018706,
        "cep": 59036897,
        "uf": "BA",
        "cidade": "Kersey",
        "estaVivo": false
    },
    {
        "nome": "Rose Price",
        "idade": 23,
        "genero": "Masculino",
        "cpf": 21208012120,
        "cep": 71993230,
        "uf": "RJ",
        "cidade": "Blanford",
        "estaVivo": false
    },
    {
        "nome": "Palmer Buckner",
        "idade": 25,
        "genero": "Outro",
        "cpf": 74465890213,
        "cep": 75280128,
        "uf": "PR",
        "cidade": "Elizaville",
        "estaVivo": true
    },
    {
        "nome": "Araceli Velasquez",
        "idade": 14,
        "genero": "Feminino",
        "cpf": 58527507658,
        "cep": 29320689,
        "uf": "DF",
        "cidade": "Saticoy",
        "estaVivo": false
    },
    {
        "nome": "Dolly Rosales",
        "idade": 29,
        "genero": "Outro",
        "cpf": 75065093536,
        "cep": 38220076,
        "uf": "AM",
        "cidade": "Lumberton",
        "estaVivo": false
    },
    {
        "nome": "Torres Wilson",
        "idade": 33,
        "genero": "Masculino",
        "cpf": 62782290699,
        "cep": 18062132,
        "uf": "PR",
        "cidade": "Riverton",
        "estaVivo": false
    },
    {
        "nome": "Zamora Schneider",
        "idade": 33,
        "genero": "Feminino",
        "cpf": 87798756207,
        "cep": 58232513,
        "uf": "ES",
        "cidade": "Fairfield",
        "estaVivo": false
    },
    {
        "nome": "Buck Silva",
        "idade": 30,
        "genero": "Feminino",
        "cpf": 71798674202,
        "cep": 46577149,
        "uf": "RJ",
        "cidade": "Concho",
        "estaVivo": true
    }
];

function adicionarPessoa(){
    var nome = document.querySelector("input[name=nome]").value;
    var idade = document.querySelector("input[name=idade]").value;
    var genero = document.querySelector("select[name=genero]").value;
    var cpf = document.querySelector("input[name=cpf]").value;
    var cep = document.querySelector("input[name=cep]").value;
    var uf = document.querySelector("input[name=uf]").value;
    var cidade = document.querySelector("input[name=cidade]").value;
    var estaVivo = document.querySelector("select[name=estaVivo]").value;

    //verifica se os campos de cpf ou senha estão vazios
    if(cpf == 0 || nome == 0){
        alert("Nome e CPF são obrigatórios! Verifique se os campos estão preenchidos corretamente.");
        return;
    }

    //verifica se o CPF recebido através do formulário existe no vetor database
    //se existir, o elemento inteiro do vetor será guardado na variável item
    var cpfExiste = database.filter( (item) => item.cpf == cpf );

    //se o tamanho do vetor cpfExiste for maior que 0, significa dizer que o CPF
    //recebido já existe no vetor database
    if(cpfExiste.length > 0){
        alert("Wabaladududu! CPJ já cadastrado!");
        //console.log("erro");
        return;
    }
    console.log(database);

    // criando objeto
    var novaPessoa = {
        "nome": nome,
        "idade": idade,
        "genero": genero,
        "cpf": cpf,
        "cep": cep,
        "uf": uf,
        "cidade": cidade,
        "estaVivo": estaVivo
    }

    //inserindo objeto novaPessoa na última posição do vetor database
    database.push(novaPessoa);
    alert(novaPessoa.nome + " cadastrado(a) com sucesso!");
    //console.log(database);
   //console.log(cpfExiste.length);
}

function removerPessoa(){
    var cpf = document.querySelector("input[name=delCpf]").value;

    var cpfExiste = database.filter( (item) => item.cpf == cpf );

    if(cpfExiste.length == 0){
        alert("CPF não encontrado!");
        console.log("erro");
        return;
    }

    var pessoaRemovida = cpfExiste[0].nome;

    console.log(database); //teste do tamanho atual do vetor
    database.pop(cpfExiste); //removendo pessoa com CPF informado
    alert(pessoaRemovida + " foi removido(a) com sucesso!");
    console.log(database);//teste do tamanho atual do vetor
}

function pesquisarPessoa(){
    var cpf = document.querySelector("input[name=pesqCpf]").value;

    var cpfExiste = database.filter( (item) => item.cpf == cpf );

    if(cpfExiste.length == 0){
        alert("CPF não encontrado!");
        console.log("erro");
        return;
    }

    var pessoa = cpfExiste[0].nome;
    var cpfPesquisado = cpfExiste[0].cpf;

    alert("Nome: " + pessoa + "\nCPF: " + cpfPesquisado);
}